diff --git a/src/compat/CMakeLists.txt b/src/compat/CMakeLists.txt
index ba5b3750..13ad953e 100644
--- a/src/compat/CMakeLists.txt
+++ b/src/compat/CMakeLists.txt
@@ -48,6 +48,7 @@ set_target_properties(libmglibc_shared PROPERTIES
     POSITION_INDEPENDENT_CODE ON
     OUTPUT_NAME ${COMPACT_LIB}
 )
+target_link_libraries(libmglibc_shared PRIVATE libm_shared)
 list(APPEND libm libmglibc_shared)
 set(libm ${libm} PARENT_SCOPE)
 
